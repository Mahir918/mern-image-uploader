(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){e.exports=a(240)},240:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=a(20),m=a(21),u=a(9),s=a(22),i=a.n(s),d=function(e){return function(t){t({type:"SET_PROGRESS_PERCENT",payload:e})}},p=a(5),f=Object(p.b)((function(e){return{user:e.user}}),{})((function(e){var t=e.user.progressPercent;return r.a.createElement("div",{className:"fixed-top"},r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"float-center"},r.a.createElement(o.a,{size:"lg",icon:m.b,color:"white"}),r.a.createElement("a",{href:"http://localhost:3000/",className:"navbar-brand text-light ml-2"},"Image Uploader "))),r.a.createElement("div",{className:"progress w-100",style:{borderRadius:0,height:"5px"}},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(t,"%")},"aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100})))})),E=function(){return r.a.createElement("footer",{className:"page-footer font-small bg-dark"},r.a.createElement("div",{className:"footer-copyright text-center text-light py-3"},"Image Uploader"))},g=a(14),b=Object(p.b)((function(e){return{user:e.user}}),{setProgressPercent:d})((function(e){var t=e.handleSubmit,a=e.setProgressPercent,c=e.imageType,l=Object(n.useState)(""),o=Object(g.a)(l,2),m=o[0],u=o[1],s=Object(n.useState)("Choose image"),i=Object(g.a)(s,2),d=i[0],p=i[1],f={onUploadProgress:function(e){var t=e.loaded,n=e.total,r=Math.floor(100*t/n);console.log("".concat(t,"kb of ").concat(n,"kb | ").concat(r,"%")),a(r)}};return r.a.createElement("form",{onSubmit:function(e){return t(e,m,f)},style:{width:"280px"},className:"mt-3"},r.a.createElement("div",{className:"input-group",style:{width:"100%"}},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Upload")),r.a.createElement("div",{className:"custom-file"},r.a.createElement("input",{type:"file",className:"custom-file-input ",id:"imageUpload",onChange:function(e){var t=e.target.files;p(t[0].name);var a=new FormData;a.append(c,t[0]),u(a)}}),r.a.createElement("label",{className:"custom-file-label ",htmlFor:"imageUpload"},d))))})),v=Object(p.b)((function(e){return{user:e.user}}),{updateAvatar:function(e,t,a){return function(n){n(d(0)),i.a.put("http://localhost:8000/api/user/".concat(e,"/avatar"),t,a).then((function(e){setTimeout((function(){n({type:"UPDATE_USER_AVATAR",payload:e.data}),u.b.success("\ud83d\udc64 Avatar updated."),n(d(0))}),1e3)})).catch((function(e){u.b.error("\u274c Something went wrong: ".concat(e)),setTimeout((function(){n(d(0))}),1e3)}))}}})((function(e){var t=e.updateAvatar,a=e.user,c=a.name,l=a.userId,o=Object(n.useState)(),m=Object(g.a)(o,2),u=m[0],s=m[1];Object(n.useEffect)((function(){s(e.user.avatar)}),[e.user.avatar]);return r.a.createElement("div",{className:"d-flex flex-column align-items-center justify-content-center mr-3"},u?r.a.createElement("img",{src:"".concat(u),className:"shadow-sm p-3 mb-5 bg-white",alt:c,style:{width:"200px",height:"auto",borderRadius:"50%"}}):null,r.a.createElement("span",null,"Update avatar"),r.a.createElement(b,{handleSubmit:function(e,a,n){e.preventDefault(),t(l,a,n)},imageType:"userImage"}))})),h=a(244),N=a(243),y=Object(p.b)((function(e){return{initialValues:{_id:e.user._id,name:e.user.name,email:e.user.email,favouriteNumber:e.user.favouriteNumber,colour:e.user.colour}}}))(Object(N.a)({form:"userDataUpdate",enableReinitialize:!0})((function(e){var t=e.handleSubmit,a=e._id,n=e.name,c=e.email,l=e.favouriteNumber;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"ID")),r.a.createElement(h.a,{name:"_id",component:"input",type:"text",className:"form-control",placeholder:a,readOnly:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"Name")),r.a.createElement(h.a,{name:"name",component:"input",type:"text",className:"form-control",placeholder:n}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"Email")),r.a.createElement(h.a,{name:"email",component:"input",type:"text",className:"form-control",placeholder:c}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"Favourite Number")),r.a.createElement(h.a,{name:"favouriteNumber",component:"input",type:"number",className:"form-control",min:0,max:10,placeholder:l}))),r.a.createElement("div",{className:"form-group"},r.a.createElement(h.a,{name:"colour",component:"select",className:"custom-select my-1 mr-sm-2"},r.a.createElement("option",{value:""},"Select colour..."),["Red","Green","Blue"].map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Update"))}))),_=Object(p.b)((function(e){return{user:e.user}}),{updateUserData:function(e,t){return function(a){i.a.put("http://localhost:8000/api/user/".concat(e,"/data"),t).then((function(e){a({type:"UPDATE_USER_DATA",payload:e.data}),u.b.success("\u2705 User ".concat(e.data.name," updated."))})).catch((function(e){u.b.error("\u274c Something went wrong: ".concat(e.response.data.errors))}))}}})((function(e){var t=e.updateUserData,a=e.user.userId;return r.a.createElement("div",{className:"ml-3 mt-3"},r.a.createElement("div",{className:"d-flex align-items-center "},r.a.createElement(o.a,{size:"lg",icon:m.a}),r.a.createElement("h4",{className:"ml-3"},"Information")),r.a.createElement("div",{className:"border-bottom mt-1 mb-3"}),r.a.createElement(y,{onSubmit:function(e){t(a,e)}}))})),O=Object(p.b)((function(e){return{user:e.user}}),{addGalleryImage:function(e,t,a){return function(n){i.a.post("http://localhost:8000/api/user/".concat(e,"/galleryimage/add"),t,a).then((function(e){setTimeout((function(){n(d(0)),n({type:"ADD_GALLERY_IMAGE",payload:e.data}),u.b.success("\ud83d\uddbc\ufe0f Image added.")}),2e3)})).catch((function(e){u.b.error("\u274c Something went wrong: ".concat(e)),setTimeout((function(){n(d(0))}),1e3)}))}}})((function(e){var t=e.addGalleryImage,a=e.user.userId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("button",{className:"btn btn-primary",type:"button","data-toggle":"collapse","data-target":"#addImage","aria-expanded":"false","aria-controls":"collapseExample"},"Add new Image")),r.a.createElement("div",{className:"collapse",style:{width:"280px"},id:"addImage"},r.a.createElement(b,{handleSubmit:function(e,n,r){e.preventDefault(),t(a,n,r)},imageType:"userImage"})))})),x=a(102),S=(a(238),Object(p.b)((function(e){return{user:e.user}}),{deleteGalleryImage:function(e,t){return function(a){i.a.put("http://localhost:8000/api/user/".concat(e,"/galleryimage/delete/").concat(t)).then((function(e){a({type:"DELETE_GALLERY_IMAGE",payload:e.data}),u.b.success("\u2728 Image deleted."),setTimeout((function(){a(d(0))}),1e3)})).catch((function(e){u.b.error("\u274c Something went wrong: ".concat(e)),setTimeout((function(){a(d(0))}),1e3)}))}},updateGalleryImage:function(e,t,a,n){return function(r){r(d(0)),i.a.put("http://localhost:8000/api/user/".concat(e,"/galleryimage/update/").concat(t),a,n).then((function(e){setTimeout((function(){r({type:"UPDATE_GALLERY_IMAGE",payload:e.data}),r(d(0))}),2e3)})).catch((function(e){setTimeout((function(){r(d(0))}),2e3)}))}}})((function(e){var t=e.imageIndex,a=e.handleImageClick,c=e.deleteGalleryImage,l=e.updateGalleryImage,o=e.user,m=o.name,u=o.userId,s=Object(n.useState)(),i=Object(g.a)(s,2),d=i[0],p=i[1];Object(n.useEffect)((function(){p(e.image)}),[e.image]);return r.a.createElement("div",{className:"d-flex flex-column align-items-center m-3"},d?r.a.createElement("img",{src:"".concat(d),style:{width:"280px",height:"auto",cursor:"pointer"},className:"shadow-sm p-3 bg-white rounded",alt:m,onClick:function(){return a(t)}}):null,r.a.createElement(b,{handleSubmit:function(e,a,n){e.preventDefault(),l(u,t,a,n)},imageType:"userImage"}),r.a.createElement("button",{type:"button",className:"btn btn-danger w-100 mt-2",onClick:function(){c(u,t)}},"Delete"))}))),w=Object(p.b)((function(e){return{user:e.user}}),{})((function(e){var t=e.user,a=t.gallery,c=Object(n.useState)(0),l=Object(g.a)(c,2),o=l[0],m=l[1],u=Object(n.useState)(!1),s=Object(g.a)(u,2),i=s[0],d=s[1],p=function(e){m(e),d(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex flex-wrap justify-content-center mt-4"},function(e){if(e)return e.map((function(e,a){return r.a.createElement(S,{key:a,image:e,name:t.name,imageIndex:a,handleImageClick:p})}))}(t.gallery)),i&&r.a.createElement(x.a,{mainSrc:a[o],nextSrc:a[(o+1)%a.length],prevSrc:a[(o+a.length-1)%a.length],onCloseRequest:function(){return d(!1)},onMovePrevRequest:function(){return m((o+a.length-1)%a.length)},onMoveNextRequest:function(){return m((o+1)%a.length)}}))})),I=Object(p.b)((function(e){return{user:e.user}}),{getUser:function(e){return function(t){i.a.get("http://localhost:8000/api/user/".concat(e)).then((function(e){t({type:"GET_USER",payload:e.data}),u.b.success("Welcome back ".concat(e.data.name,"!"))})).catch((function(e){return u.b.error("\u274c Something went wrong: ".concat(e))}))}}})((function(e){var t=e.getUser;return Object(n.useEffect)((function(){t("5f0199f0e7c85430b0b20136")}),[t]),r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement("div",{className:"container",style:{position:"relative",marginTop:100}},r.a.createElement("div",{className:"jumbotron bg-light shadow-sm pt-3"},r.a.createElement("div",{className:"d-flex flex-column"},r.a.createElement("div",{className:"d-flex align-items-center "},r.a.createElement(o.a,{size:"lg",icon:m.d})," ",r.a.createElement("h2",{className:"ml-3"},"User Profile")),r.a.createElement("div",{className:"border-bottom mt-1 mb-3"}),r.a.createElement("div",{className:"d-flex justify-content-around flex-wrap"},r.a.createElement(v,null),r.a.createElement(_,null)),r.a.createElement("div",{className:"d-flex flex-column mt-5"},r.a.createElement("div",{className:"d-flex align-items-center "},r.a.createElement(o.a,{size:"lg",icon:m.c}),r.a.createElement("h4",{className:"ml-3"},"Image Gallery")),r.a.createElement("div",{className:"border-bottom mt-1 mb-3"}),r.a.createElement(O,null),r.a.createElement(w,null))))),r.a.createElement(E,null))})),j=a(6),T=a(104),A=a(245),R=a(36),U={userId:"5f0199f0e7c85430b0b20136",name:"",email:"",favouriteNumber:0,colour:"",avatar:"",gallery:[],progressPercent:0},D=Object(j.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":case"DELETE_GALLERY_IMAGE":case"UPDATE_USER_DATA":case"UPDATE_USER_AVATAR":case"ADD_GALLERY_IMAGE":case"UPDATE_GALLERY_IMAGE":return Object(R.a)(Object(R.a)({},e),t.payload);case"SET_PROGRESS_PERCENT":return Object(R.a)(Object(R.a)({},e),{},{progressPercent:t.payload});default:return e}},form:A.a}),G=[T.a],P=Object(j.e)(D,{},Object(j.d)(j.a.apply(void 0,G),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));a(239);var L=function(){return r.a.createElement(p.a,{store:P},r.a.createElement(u.a,null),r.a.createElement(I,null))};l.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.280774c8.chunk.js.map