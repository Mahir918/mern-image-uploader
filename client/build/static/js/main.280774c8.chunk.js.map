{"version":3,"sources":["actions/userActions.js","actions/types.js","Components/Header.js","Components/Footer.js","Components/Forms/ImageUpload.js","Components/Avatar.js","Components/Forms/UserDataUpdateForm.js","Components/UserData.js","Components/AddImage.js","Components/Image.js","Components/ImageGallery.js","Components/User.js","reducers/userReducer.js","reducers/index.js","store.js","App.js","index.js"],"names":["setProgressPercent","value","dispatch","type","payload","connect","state","user","props","progressPercent","className","size","icon","faGrimace","color","href","style","borderRadius","height","role","width","aria-valuenow","aria-valuemin","aria-valuemax","Footer","handleSubmit","imageType","useState","formData","setFormData","filename","setFilename","options","onUploadProgress","progressEvent","loaded","total","percent","Math","floor","console","log","onSubmit","e","id","onChange","files","target","name","data","FormData","append","htmlFor","updateAvatar","userId","axios","put","then","res","setTimeout","toast","success","catch","err","error","avatar","setAvatar","useEffect","src","alt","preventDefault","initialValues","_id","email","favouriteNumber","colour","reduxForm","form","enableReinitialize","Field","component","placeholder","readOnly","min","max","map","key","updateUserData","response","errors","faAddressCard","values","addGalleryImage","post","data-toggle","data-target","aria-expanded","aria-controls","deleteGalleryImage","imageIndex","updateGalleryImage","handleImageClick","image","setImage","cursor","onClick","images","gallery","photoIndex","setPhotoIndex","isOpen","setIsOpen","imageList","serveImages","mainSrc","nextSrc","length","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","getUser","get","position","marginTop","faUser","faImages","initialState","combineReducers","action","formReducer","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.280774c8.chunk.js","sourcesContent":["import {\r\n  GET_USER,\r\n  UPDATE_USER_AVATAR,\r\n  UPDATE_USER_DATA,\r\n  ADD_GALLERY_IMAGE,\r\n  UPDATE_GALLERY_IMAGE,\r\n  DELETE_GALLERY_IMAGE,\r\n  SET_PROGRESS_PERCENT\r\n} from './types';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nexport const getUser = userId => dispatch => {\r\n  axios\r\n    .get(`http://localhost:8000/api/user/${userId}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_USER,\r\n        payload: res.data\r\n      });\r\n      toast.success(`Welcome back ${res.data.name}!`);\r\n    })\r\n    .catch(err => toast.error(`❌ Something went wrong: ${err}`));\r\n}\r\n\r\nexport const updateUserData = (userId, formData) => dispatch => {\r\n  axios\r\n    .put(`http://localhost:8000/api/user/${userId}/data`, formData)\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPDATE_USER_DATA,\r\n        payload: res.data\r\n      });\r\n      toast.success(`✅ User ${res.data.name} updated.`)\r\n    })\r\n    .catch(err => {\r\n      toast.error(`❌ Something went wrong: ${err.response.data.errors}`);\r\n    });\r\n}\r\n\r\nexport const updateAvatar = (userId, formData, options) => dispatch => {\r\n  dispatch(setProgressPercent(0));\r\n  axios.put(`http://localhost:8000/api/user/${userId}/avatar`, formData, options)\r\n    .then(res => {\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: UPDATE_USER_AVATAR,\r\n          payload: res.data\r\n        });\r\n        toast.success(`👤 Avatar updated.`)\r\n        dispatch(setProgressPercent(0));\r\n      }, 1000)\r\n    })\r\n    .catch(err => {\r\n      toast.error(`❌ Something went wrong: ${err}`);\r\n      setTimeout(() => {\r\n        dispatch(setProgressPercent(0));\r\n      }, 1000);\r\n    });\r\n}\r\n\r\nexport const addGalleryImage = (userId, formData, options) => dispatch => {\r\n  axios.post(`http://localhost:8000/api/user/${userId}/galleryimage/add`, formData, options)\r\n    .then(res => {\r\n      setTimeout(() => {\r\n        dispatch(setProgressPercent(0));\r\n        dispatch({\r\n          type: ADD_GALLERY_IMAGE,\r\n          payload: res.data\r\n        });\r\n        toast.success(`🖼️ Image added.`)\r\n      }, 2000);\r\n    })\r\n    .catch(err => {\r\n      toast.error(`❌ Something went wrong: ${err}`);\r\n      setTimeout(() => {\r\n        dispatch(setProgressPercent(0));\r\n      }, 1000)\r\n    });\r\n}\r\n\r\nexport const updateGalleryImage = (userId, imageIndex, formData, options) => dispatch => {\r\n  dispatch(setProgressPercent(0));\r\n  axios.put(`http://localhost:8000/api/user/${userId}/galleryimage/update/${imageIndex}`, formData, options)\r\n    .then(res => {\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: UPDATE_GALLERY_IMAGE,\r\n          payload: res.data\r\n        });\r\n        dispatch(setProgressPercent(0));\r\n      }, 2000)\r\n    })\r\n    .catch(err => {\r\n      setTimeout(() => {\r\n        dispatch(setProgressPercent(0));\r\n      }, 2000)\r\n    });\r\n}\r\n\r\nexport const deleteGalleryImage = (userId, imageIndex) => dispatch => {\r\n  axios.put(`http://localhost:8000/api/user/${userId}/galleryimage/delete/${imageIndex}`)\r\n    .then(res => {\r\n      dispatch({\r\n        type: DELETE_GALLERY_IMAGE,\r\n        payload: res.data\r\n      });\r\n      toast.success(`✨ Image deleted.`);\r\n      setTimeout(() => {\r\n        dispatch(setProgressPercent(0));\r\n      }, 1000);\r\n    })\r\n    .catch(err => {\r\n      toast.error(`❌ Something went wrong: ${err}`);\r\n      setTimeout(() => {\r\n        dispatch(setProgressPercent(0));\r\n      }, 1000);\r\n    });\r\n}\r\n\r\nexport const setProgressPercent = value => dispatch => {\r\n  dispatch({\r\n    type: SET_PROGRESS_PERCENT,\r\n    payload: value\r\n  });\r\n}","export const GET_USER = 'GET_USER';\r\nexport const UPDATE_USER_DATA = 'UPDATE_USER_DATA';\r\nexport const UPDATE_USER_AVATAR = 'UPDATE_USER_AVATAR';\r\n\r\n\r\nexport const ADD_GALLERY_IMAGE = 'ADD_GALLERY_IMAGE';\r\nexport const UPDATE_GALLERY_IMAGE = 'UPDATE_GALLERY_IMAGE';\r\nexport const DELETE_GALLERY_IMAGE = 'DELETE_GALLERY_IMAGE';\r\n\r\nexport const SET_PROGRESS_PERCENT = 'SET_PROGRESS_PERCENT';","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faGrimace } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst Header = (props) => {\r\n  const { progressPercent } = props.user;\r\n  return (\r\n    <div className=\"fixed-top\" >\r\n      <nav className=\"navbar navbar-dark bg-dark\">\r\n        <div className=\"float-center\">\r\n          <FontAwesomeIcon size={\"lg\"} icon={faGrimace} color={'white'} />\r\n          <a href='http://localhost:3000/' className=\"navbar-brand text-light ml-2\">Image Uploader </a>\r\n        </div>\r\n      </nav>\r\n      <div className='progress w-100' style={{ borderRadius: 0, height: '5px' }}>\r\n        <div className='progress-bar' role='progressbar' style={{ width: `${progressPercent}%` }} aria-valuenow={progressPercent} aria-valuemin={0} aria-valuemax={100}>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(Header);","import React from 'react';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"page-footer font-small bg-dark\">\r\n      <div className=\"footer-copyright text-center text-light py-3\">Image Uploader\r\n  </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React, { useState } from \"react\";\r\nimport { connect } from 'react-redux';\r\nimport { setProgressPercent } from '../../actions/userActions';\r\n\r\nconst ImageUpload = (props) => {\r\n  const { handleSubmit, setProgressPercent, imageType } = props;\r\n  const [formData, setFormData] = useState('');\r\n  const [filename, setFilename] = useState('Choose image');\r\n\r\n  const updateFormData = ({ target: { files } }) => {\r\n    setFilename(files[0].name);\r\n    let data = new FormData();\r\n    data.append(imageType, files[0]);\r\n    setFormData(data);\r\n  };\r\n\r\n  const options = {\r\n    onUploadProgress: (progressEvent) => {\r\n      const { loaded, total } = progressEvent;\r\n      let percent = Math.floor((loaded * 100) / total);\r\n      console.log(`${loaded}kb of ${total}kb | ${percent}%`); //debug\r\n      setProgressPercent(percent);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={(e) => handleSubmit(e, formData, options)} style={{ width: '280px' }} className=\"mt-3\">\r\n      <div className=\"input-group\" style={{ width: '100%' }}>\r\n        <div className=\"input-group-prepend\">\r\n          <button type='submit' className='btn btn-primary w-100'>Upload</button>\r\n        </div>\r\n        <div className=\"custom-file\">\r\n          <input type=\"file\" className=\"custom-file-input \" id=\"imageUpload\" onChange={updateFormData} />\r\n          <label className=\"custom-file-label \" htmlFor=\"imageUpload\">{filename}</label>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, { setProgressPercent })(ImageUpload);","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { updateAvatar } from '../actions/userActions';\r\nimport ImageUpload from './Forms/ImageUpload';\r\n\r\nconst Avatar = props => {\r\n  const { updateAvatar } = props;\r\n  const { name, userId } = props.user;\r\n  const [avatar, setAvatar] = useState();\r\n\r\n  useEffect(() => {\r\n    setAvatar(props.user.avatar);\r\n  }, [props.user.avatar])\r\n\r\n  const handleSubmit = (e, formData, options) => {\r\n    e.preventDefault();\r\n    updateAvatar(userId, formData, options);\r\n  }\r\n  return (\r\n    <div className=\"d-flex flex-column align-items-center justify-content-center mr-3\">\r\n      {avatar ? <img src={`${avatar}`} className=\"shadow-sm p-3 mb-5 bg-white\" alt={name} style={{ width: '200px', height: 'auto', borderRadius: '50%' }} /> : null}\r\n      <span>Update avatar</span>\r\n      <ImageUpload handleSubmit={handleSubmit} imageType={'userImage'} />\r\n    </div >\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, { updateAvatar })(Avatar);","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { connect } from 'react-redux';\r\n\r\nconst UserDataUpdateForm = props => {\r\n  const { handleSubmit, _id, name, email, favouriteNumber } = props;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">ID</div>\r\n          </div>\r\n          <Field name=\"_id\" component=\"input\" type=\"text\" className=\"form-control\" placeholder={_id} readOnly />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group\">\r\n\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">Name</div>\r\n          </div>\r\n          <Field name=\"name\" component=\"input\" type=\"text\" className=\"form-control\" placeholder={name} />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">Email</div>\r\n          </div>\r\n          <Field name=\"email\" component=\"input\" type=\"text\" className=\"form-control\" placeholder={email} />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <div className=\"input-group\">\r\n          <div className=\"input-group-prepend\">\r\n            <div className=\"input-group-text\">Favourite Number</div>\r\n          </div>\r\n          <Field name=\"favouriteNumber\" component=\"input\" type=\"number\" className=\"form-control\" min={0} max={10} placeholder={favouriteNumber} />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <Field name=\"colour\" component=\"select\" className=\"custom-select my-1 mr-sm-2\">\r\n          <option value=\"\" >Select colour...</option>\r\n          {[\"Red\", \"Green\", \"Blue\"].map(colour => <option value={colour} key={colour}>{colour}</option>)}\r\n        </Field>\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary w-100\">Update</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialValues: {\r\n    _id: state.user._id,\r\n    name: state.user.name,\r\n    email: state.user.email,\r\n    favouriteNumber: state.user.favouriteNumber,\r\n    colour: state.user.colour,\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps)(reduxForm({ form: 'userDataUpdate', enableReinitialize: true })(UserDataUpdateForm))","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAddressCard } from '@fortawesome/free-solid-svg-icons';\r\nimport { connect } from 'react-redux';\r\nimport { updateUserData } from '../actions/userActions';\r\nimport UserDataUpdateForm from './Forms/UserDataUpdateForm';\r\n\r\nconst UserData = props => {\r\n  const { updateUserData } = props;\r\n  const { userId } = props.user;\r\n  const handleSubmit = values => { updateUserData(userId, values); }\r\n\r\n  return (\r\n    <div className=\"ml-3 mt-3\">\r\n      <div className=\"d-flex align-items-center \"><FontAwesomeIcon size={\"lg\"} icon={faAddressCard} /><h4 className=\"ml-3\">Information</h4></div>\r\n      <div className=\"border-bottom mt-1 mb-3\"></div>\r\n      <UserDataUpdateForm onSubmit={handleSubmit} />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, { updateUserData })(UserData);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addGalleryImage } from '../actions/userActions';\r\nimport ImageUpload from './Forms/ImageUpload';\r\n\r\nconst AddImage = (props) => {\r\n  const { addGalleryImage } = props;\r\n  const { userId } = props.user;\r\n  const handleSubmit = (e, formData, options) => {\r\n    e.preventDefault();\r\n    addGalleryImage(userId, formData, options);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <p>\r\n        <button className=\"btn btn-primary\" type=\"button\" data-toggle=\"collapse\" data-target=\"#addImage\"\r\n          aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n          Add new Image\r\n        </button>\r\n      </p>\r\n      <div className=\"collapse\" style={{ width: '280px' }} id=\"addImage\">\r\n        <ImageUpload handleSubmit={handleSubmit} imageType={'userImage'} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, { addGalleryImage })(AddImage);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { updateGalleryImage, deleteGalleryImage } from '../actions/userActions';\r\nimport ImageUpload from './Forms/ImageUpload';\r\n\r\nconst Image = props => {\r\n  const { imageIndex, handleImageClick, deleteGalleryImage, updateGalleryImage } = props;\r\n  const { name, userId } = props.user;\r\n  const [image, setImage] = useState();\r\n\r\n  useEffect(() => {\r\n    setImage(props.image);\r\n  }, [props.image])\r\n\r\n  const handleDelete = () => { deleteGalleryImage(userId, imageIndex) }\r\n\r\n  const handleSubmit = (e, formData, options) => {\r\n    e.preventDefault();\r\n    updateGalleryImage(userId, imageIndex, formData, options);\r\n  }\r\n  return (\r\n    <div className=\"d-flex flex-column align-items-center m-3\">\r\n      {image ? <img src={`${image}`} style={{ width: '280px', height: 'auto', cursor: 'pointer' }}\r\n        className=\"shadow-sm p-3 bg-white rounded\" alt={name} onClick={() => handleImageClick(imageIndex)} /> : null}\r\n      <ImageUpload handleSubmit={handleSubmit} imageType={'userImage'} />\r\n      <button type=\"button\" className=\"btn btn-danger w-100 mt-2\" onClick={handleDelete}>Delete</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, { deleteGalleryImage, updateGalleryImage })(Image);","import React, { useState } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\nimport { connect } from 'react-redux';\r\nimport Image from './Image';\r\n\r\nconst ImageGallery = props => {\r\n  const { user } = props;\r\n  const images = user.gallery;\r\n  const [photoIndex, setPhotoIndex] = useState(0);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleImageClick = (imageIndex) => {\r\n    setPhotoIndex(imageIndex);\r\n    setIsOpen(true);\r\n  }\r\n\r\n  const serveImages = (imageList) => {\r\n    if (imageList) {\r\n      return imageList.map((image, imageIndex) => {\r\n        return (\r\n          <Image key={imageIndex} image={image} name={user.name} imageIndex={imageIndex} handleImageClick={handleImageClick} />\r\n        )\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"d-flex flex-wrap justify-content-center mt-4\">\r\n        {serveImages(user.gallery)}\r\n      </div>\r\n      {isOpen && (\r\n        <Lightbox\r\n          mainSrc={images[photoIndex]}\r\n          nextSrc={images[(photoIndex + 1) % images.length]}\r\n          prevSrc={images[(photoIndex + images.length - 1) % images.length]}\r\n          onCloseRequest={() => setIsOpen(false)}\r\n          onMovePrevRequest={() => setPhotoIndex((photoIndex + images.length - 1) % images.length)}\r\n          onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % images.length)}\r\n\r\n        />\r\n      )}\r\n    </>\r\n\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, {})(ImageGallery);","import React, { useEffect } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser, faImages } from '@fortawesome/free-solid-svg-icons';\r\nimport { getUser } from '../actions/userActions';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport Avatar from './Avatar';\r\nimport UserData from './UserData';\r\nimport AddImage from './AddImage';\r\nimport ImageGallery from './ImageGallery';\r\n\r\nconst User = (props) => {\r\n  const { getUser } = props;\r\n  const userId = '5f0199f0e7c85430b0b20136';\r\n\r\n  useEffect(() => {\r\n    getUser(userId);\r\n  }, [getUser]);\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"container\" style={{ position: 'relative', marginTop: 100 }}>\r\n        <div className=\"jumbotron bg-light shadow-sm pt-3\">\r\n          <div className=\"d-flex flex-column\">\r\n            <div className=\"d-flex align-items-center \"><FontAwesomeIcon size={\"lg\"} icon={faUser} /> <h2 className=\"ml-3\">User Profile</h2></div>\r\n            <div className=\"border-bottom mt-1 mb-3\"></div>\r\n            <div className=\"d-flex justify-content-around flex-wrap\">\r\n              <Avatar />\r\n              <UserData />\r\n            </div>\r\n            <div className=\"d-flex flex-column mt-5\">\r\n              <div className=\"d-flex align-items-center \"><FontAwesomeIcon size={\"lg\"} icon={faImages} /><h4 className=\"ml-3\">Image Gallery</h4></div>\r\n              <div className=\"border-bottom mt-1 mb-3\"></div>\r\n              <AddImage />\r\n              <ImageGallery />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div >\r\n\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user\r\n})\r\n\r\nexport default connect(mapStateToProps, { getUser })(User);","import {\r\n  GET_USER,\r\n  UPDATE_USER_DATA,\r\n  DELETE_GALLERY_IMAGE,\r\n  ADD_GALLERY_IMAGE,\r\n  UPDATE_GALLERY_IMAGE,\r\n  UPDATE_USER_AVATAR,\r\n  SET_PROGRESS_PERCENT\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  userId: '5f0199f0e7c85430b0b20136',\r\n  name: '',\r\n  email: '',\r\n  favouriteNumber: 0,\r\n  colour: '',\r\n  avatar: '',\r\n  gallery: [],\r\n  progressPercent: 0\r\n}\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_USER:\r\n    case DELETE_GALLERY_IMAGE:\r\n    case UPDATE_USER_DATA:\r\n    case UPDATE_USER_AVATAR:\r\n    case ADD_GALLERY_IMAGE:\r\n    case UPDATE_GALLERY_IMAGE:\r\n      return ({\r\n        ...state,\r\n        ...action.payload\r\n      });\r\n    case SET_PROGRESS_PERCENT:\r\n      return ({\r\n        ...state,\r\n        progressPercent: action.payload\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport userReducer from '../reducers/userReducer';\r\n\r\nexport default combineReducers({\r\n  user: userReducer,\r\n  form: formReducer\r\n});","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers/index';\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\nconst store = createStore(rootReducer, initialState, compose(\r\n  applyMiddleware(...middleware),\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n));\r\n\r\nexport default store;","import React from 'react';\nimport User from './Components/User';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction App() {\n\n  return (\n    <Provider store={store}>\n      <ToastContainer />\n      <User />\n    </Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}